<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="yahue, 亚辉的博客, 雅汇的博客 ,技术博客" />





  <link rel="alternate" href="/rss2.xml" title="亚辉的博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=5.1.1" />






<meta name="description" content="The pursuit of endless">
<meta property="og:type" content="website">
<meta property="og:title" content="亚辉的博客">
<meta property="og:url" content="http://blog.yahui.wang/index.html">
<meta property="og:site_name" content="亚辉的博客">
<meta property="og:description" content="The pursuit of endless">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="亚辉的博客">
<meta name="twitter:description" content="The pursuit of endless">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.yahui.wang/"/>





  <title>亚辉的博客</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f563a17daea7fd3c8c2618842db63d7f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">亚辉的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Coding For Fun</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/14/gitlab-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/14/gitlab-install/" itemprop="url">gitlab安装和配置</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-14T18:06:23+08:00">
                2017-11-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/14/gitlab-install/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/14/gitlab-install/" class="cy_cmt_count" data-xid="2017/11/14/gitlab-install/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gitlab"><a href="#Gitlab" class="headerlink" title="Gitlab"></a>Gitlab</h1><p>GitLab是一个Git的代码托管工具，有免费的社区版允许我们在本地搭建代码托管网站，也有付费的企业版网站，能够在线托管代码。传统方式是手动下载Gitlab的软件包，然后搭建相关运行环境。不过这种方式非常麻烦，而且如果要更换机器所有配置工作又得重来一边，如果有同学学过Java的话应该记得初学Java时配置环境变量的恐惧吧？因此更好的办法就是使用现在非常流行的Docker。</p>
<p>那么Docker又是个什么东西呢？这是一个虚拟化的运行工具，主要目的是将软件和整个运行环境打包起来，让我们不需要配置即可快速运行软件。由于Docker依赖于Linux内核的某些特性，所以Docker只能在Linux上运行。Windows上的Docker实际上是开了一个虚拟机。Docker目前好像没有比较好的中文社区，我谷歌了一下只找到了这个Docker中文社区，看起来还行。</p>
<h2 id="下载Gitlab"><a href="#下载Gitlab" class="headerlink" title="下载Gitlab"></a>下载Gitlab</h2><p>配置好加速器之后，下载就很快了。直接执行下面的命令，稍等片刻之后，Docker就会将Gitlab下载好了。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo docker pull gitlab/gitlab-ce:latest</div></pre></td></tr></table></figure>
<h2 id="启动Gitlab"><a href="#启动Gitlab" class="headerlink" title="启动Gitlab"></a>启动Gitlab</h2><p>用下面的命令启动一个默认配置的Gitlab。如果我们只在本机测试使用的话，将hostname替换为localhost。如果需要让外部系统也能访问的话使用外网IP地址。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sudo docker run --detach \</div><div class="line">    --hostname gitlab.yahui.wang \</div><div class="line">    --publish 443:443 --publish 80:80 --publish 22:22 \</div><div class="line">    --name gitlab \</div><div class="line">    --restart always \</div><div class="line">    --volume /srv/gitlab/config:/etc/gitlab \</div><div class="line">    --volume /srv/gitlab/logs:/var/<span class="built_in">log</span>/gitlab \</div><div class="line">    --volume /srv/gitlab/data:/var/opt/gitlab \</div><div class="line">    gitlab/gitlab-ce:latest</div></pre></td></tr></table></figure>
<p>首次启动可能比较慢，需要等待一分钟左右的时间。我们可以使用sudo docker ps命令查看当前所有Docker容器的状态。当它的状态由starting变为运行时间时，说明成功启动了。我们直接使用上面配置的IP地址（如localhost）在浏览器中访问即可。</p>
<p>初次使用需要我们创建默认管理员密码，随便指定一个就行了。然后我们需要注册一个普通用户。以后的使用方法和Github这样的工具很相似了。</p>
<h2 id="配置Gitlab"><a href="#配置Gitlab" class="headerlink" title="配置Gitlab"></a>配置Gitlab</h2><p>刚刚启动Gitlab的时候需要我们输入一个密码，这个密码是管理员用户的密码。我们在登录那里使用root作为用户名，然后用刚刚设置的密码，就可以以管理员身份登录Gitlab。</p>
<p>登录进去之后，点击右上角的齿轮图标，即可进入到管理员页面。在这里我们可以设置很多东西。比如说，默认情况下每个用户只能创建10个仓库，我们可以改变这个设置。在管理员页面点击右面的齿轮，再点击设置，就会进入到系统设置中。然后找到Default projects limit一项，我们给它设个小目标，设它一个亿，这样就相当于无限仓库了。当然如果你实际硬盘满了也就不能在创建更多项目了。</p>
<p>如果这些配置还是不能满足你的需求的时候，还可以直接配置Gitlab。首先进入到Docker环境中。我们使用下面的命令进入Docker环境的bash中。gitlab是刚刚指定的Gitlab名称。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo docker <span class="built_in">exec</span> -it gitlab /bin/bash</div></pre></td></tr></table></figure>
<p>然后就进入了Docker的环境中，我们可以把它当作一个独立的系统来使用。然后编辑/etc/gitlab/gitlab.rb文件，这是Gitlab的全局配置文件。所有选项都可以在这里配置。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nano /etc/gitlab/gitlab.rb</div></pre></td></tr></table></figure>
<p>详细的配置方法我也不会，直接看官方文档吧。</p>
<h2 id="更新Gitlab"><a href="#更新Gitlab" class="headerlink" title="更新Gitlab"></a>更新Gitlab</h2><p>以后如果需要更新Gitlab版本，首先需要停止并删除当前的Gitlab实例。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo docker stop gitlab</div><div class="line">sudo docker rm gitlab</div></pre></td></tr></table></figure>
<p>然后在拉取最新版的Gitlab。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo docker pull gitlab/gitlab-ce:latest</div></pre></td></tr></table></figure>
<p>然后在使用上次的配置运行Gitlab即可。不用担心数据会丢失。只要你的volume参数指定还和上次一样，Gitlab就会自动读取这些配置。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sudo docker run --detach \</div><div class="line">--hostname gitlab.yahui.wang \</div><div class="line">--publish 443:443 --publish 80:80 --publish 22:22 \</div><div class="line">--name gitlab \</div><div class="line">--restart always \</div><div class="line">--volume /srv/gitlab/config:/etc/gitlab \</div><div class="line">--volume /srv/gitlab/logs:/var/<span class="built_in">log</span>/gitlab \</div><div class="line">--volume /srv/gitlab/data:/var/opt/gitlab \</div><div class="line">gitlab/gitlab-ce:latest</div></pre></td></tr></table></figure>
<p>最后来看看使用Docker的优势。还是在Gitlab的Bash中。我们依次输入下面的命令，看看有什么反应。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ruby --version</div><div class="line">git --version</div><div class="line">redis-cli --version</div><div class="line">psql --version</div></pre></td></tr></table></figure>
<p>不出意外的话应该会显示对应软件的版本。我们看到Gitlab使用了4个开源软件或运行环境：ruby、git、redis和postgresql。如果我们手动安装Gitlab的话，这几个软件也必须分别安装和配置好。这个任务的难度可是非常大的。而且如果需要在多台机器上配置，那么任务量就更大了。但是如果使用Docker的话，我们甚至完全没必要知道这几个软件的存在，简单两条命令即可创建和运行Gitlab。这正是Docker的魅力，难怪现在越来越多的公司在使用Docker。</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="使用docker-compose部署的话"><a href="#使用docker-compose部署的话" class="headerlink" title="使用docker-compose部署的话"></a>使用<code>docker-compose</code>部署的话</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="attr">web:</span></div><div class="line"><span class="attr">  image:</span> <span class="string">'gitlab/gitlab-ce:latest'</span></div><div class="line"><span class="attr">  restart:</span> <span class="string">always</span></div><div class="line"><span class="attr">  hostname:</span> <span class="string">'gitlab.yahui.wang'</span></div><div class="line"><span class="attr">  environment:</span></div><div class="line"><span class="attr">    GITLAB_OMNIBUS_CONFIG:</span> <span class="string">|</span></div><div class="line"><span class="string">      external_url 'http://gitlab.yahui.wang'</span></div><div class="line"><span class="string">      gitlab_rails['gitlab_shell_ssh_port'] = 2202</span></div><div class="line"><span class="string"></span><span class="attr">  ports:</span></div><div class="line"><span class="bullet">    -</span> <span class="string">'8008:80'</span></div><div class="line"><span class="bullet">    -</span> <span class="string">'2202:22'</span></div><div class="line"><span class="attr">  volumes:</span></div><div class="line"><span class="bullet">    -</span> <span class="string">'/data/gitlab/config:/etc/gitlab'</span></div><div class="line"><span class="bullet">    -</span> <span class="string">'/data/gitlab/logs:/var/log/gitlab'</span></div><div class="line"><span class="bullet">    -</span> <span class="string">'/data/gitlab/data:/var/opt/gitlab'</span></div></pre></td></tr></table></figure>
<p>参考资料<br><code>https://yq.aliyun.com/articles/29941</code><br><code>https://docs.gitlab.com/omnibus/docker/README.html#gitlab-docker-images</code><br><code>http://blog.csdn.net/u011054333/article/details/61532271</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/14/git-first/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/14/git-first/" itemprop="url">Git第一步，本地开发环境部署</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-14T14:44:53+08:00">
                2017-11-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/14/git-first/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/14/git-first/" class="cy_cmt_count" data-xid="2017/11/14/git-first/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Git第一步，本地开发环境部署"><a href="#Git第一步，本地开发环境部署" class="headerlink" title="Git第一步，本地开发环境部署"></a>Git第一步，本地开发环境部署</h1><h2 id="基本环境安装"><a href="#基本环境安装" class="headerlink" title="基本环境安装"></a>基本环境安装</h2><h3 id="Mac环境"><a href="#Mac环境" class="headerlink" title="Mac环境"></a>Mac环境</h3><h4 id="安装包管理工具-Homebrew"><a href="#安装包管理工具-Homebrew" class="headerlink" title="安装包管理工具 Homebrew"></a>安装包管理工具 <code>Homebrew</code></h4><p><code>brew</code> 全称<code>Homebrew</code>  是<code>Mac OSX</code>上的软件包管理工具，官网<a href="https://brew.sh/" target="_blank" rel="external">https://brew.sh/</a>。<br><code>Homebrew</code> 安装和卸载工具 只用一行命令就能完成</p>
<p>打开Mac OSX的命令终端<br>执行命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></div></pre></td></tr></table></figure>
<p>命令执行完毕，既可以完成brew的安装</p>
<h4 id="Mac安装GIT环境"><a href="#Mac安装GIT环境" class="headerlink" title="Mac安装GIT环境"></a>Mac安装GIT环境</h4><p>命令终端输入：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install git</div></pre></td></tr></table></figure>
<p>安装好之后建议安装下 <a href="`http://www.syntevo.com/smartgit/download`">smartgit</a>便于管理本地git仓库</p>
<h3 id="Window环境"><a href="#Window环境" class="headerlink" title="Window环境"></a>Window环境</h3><h4 id="安装包管理工具-chocolatey"><a href="#安装包管理工具-chocolatey" class="headerlink" title="安装包管理工具 chocolatey"></a>安装包管理工具 <code>chocolatey</code></h4><p>Windows系统也有个很好用的包管理工具 <a href="https://chocolatey.org/install" target="_blank" rel="external">chocolatey</a>,这里我们使用<code>chocolatey</code>来很方面的安装我们需要的基本环境<br>说先安装 <code>chocolatey</code><br>使用组合键（<code>Win+X+A</code>）打开Windows的命令终端 <code>PowerShell</code> or <code>CMD</code>。</p>
<blockquote>
<p>注意命令终端要在管理员模式下运行</p>
</blockquote>
<ul>
<li>如果您使用的是<code>CMD</code></li>
</ul>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@"<span class="variable">%SystemRoot%</span>\System32\WindowsPowerShell\v1.<span class="number">0</span>\powershell.exe" -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.<span class="built_in">Net</span>.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;&amp; <span class="built_in">SET</span> "<span class="built_in">PATH</span>=<span class="variable">%PATH%</span>;<span class="variable">%ALLUSERSPROFILE%</span>\chocolatey\bin"</div></pre></td></tr></table></figure>
<ul>
<li>如果您使用的是<code>PowerShell</code></li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Set-ExecutionPolicy</span> Bypass -Scope <span class="keyword">Process</span> -Force; iex ((<span class="built_in">New-Object</span> System.Net.WebClient).DownloadString(<span class="string">'https://chocolatey.org/install.ps1'</span>))</div></pre></td></tr></table></figure>
<p>可能需要等待一会，具体等待时间由个人网络情况而定</p>
<h4 id="Window安装GIT环境"><a href="#Window安装GIT环境" class="headerlink" title="Window安装GIT环境"></a>Window安装GIT环境</h4><p>安装好<code>chocolatey</code>之后我们可以安装各种开发环境和开发工具了</p>
<p>安装GIT</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">choco install git -y</div></pre></td></tr></table></figure>
<p>安装完毕之后建议安装个<code>tortoisegit</code> 便于在资源管理器中管理本地git仓库</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">choco install tortoisegit -y</div></pre></td></tr></table></figure>
<h2 id="配合主流IDE使用"><a href="#配合主流IDE使用" class="headerlink" title="配合主流IDE使用"></a>配合主流IDE使用</h2><h3 id="VisualStudio"><a href="#VisualStudio" class="headerlink" title="VisualStudio"></a><a href="http://blog.csdn.net/mochounv/article/details/54378190" target="_blank" rel="external">VisualStudio</a></h3><h3 id="AndroidStudio"><a href="#AndroidStudio" class="headerlink" title="AndroidStudio"></a><a href="http://blog.csdn.net/gao_chun/article/details/49817229/" target="_blank" rel="external">AndroidStudio</a></h3><h3 id="Xcode"><a href="#Xcode" class="headerlink" title="Xcode"></a><a href="http://www.cocoachina.com/ios/20140524/8536.html" target="_blank" rel="external">Xcode</a></h3><h3 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a><a href="https://www.cnblogs.com/xuanhun/p/6019038.html" target="_blank" rel="external">VSCode</a></h3><h3 id="Sublime"><a href="#Sublime" class="headerlink" title="Sublime"></a><a href="http://blog.csdn.net/zxc123e/article/details/43452031" target="_blank" rel="external">Sublime</a></h3><h3 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a><a href="https://www.cnblogs.com/jinguangguo/p/4868152.html" target="_blank" rel="external">WebStorm</a></h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/14/npm-config-set-registry/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/14/npm-config-set-registry/" itemprop="url">npm更换镜像为国内源</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-14T14:02:31+08:00">
                2017-11-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/14/npm-config-set-registry/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/14/npm-config-set-registry/" class="cy_cmt_count" data-xid="2017/11/14/npm-config-set-registry/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>镜像使用方法（三种办法任意一种都能解决问题，建议使用第三种，将配置写死，下次用的时候配置还在）:</p>
</blockquote>
<h1 id="通过config命令"><a href="#通过config命令" class="headerlink" title="通过config命令"></a>通过config命令</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</div><div class="line">npm info underscore （如果上面配置正确这个命令会有字符串response）</div></pre></td></tr></table></figure>
<h1 id="命令行指定"><a href="#命令行指定" class="headerlink" title="命令行指定"></a>命令行指定</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm --registry https://registry.npm.taobao.org info underscore</div></pre></td></tr></table></figure>
<h1 id="编辑-npmrc"><a href="#编辑-npmrc" class="headerlink" title="编辑 ~/.npmrc"></a>编辑 <code>~/.npmrc</code></h1><p>例如：<code>C:\Program Files (x86)\nodejs\node_modules\npm\npmrc</code> 文件 加入下面内容</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">registry = https://registry.npm.taobao.org</div></pre></td></tr></table></figure>
<p>搜索镜像: <code>https://npm.taobao.org</code></p>
<p>建立或使用镜像,参考: <code>https://github.com/cnpm/cnpmjs.org</code></p>
<blockquote>
<p>如果想换回来请吧上面的registry参数<code>https://registry.npm.taobao.org</code>改为<code>https://registry.npmjs.org/</code>即可</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/13/centos7-install-python3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/13/centos7-install-python3/" itemprop="url">centos7.* 安装 python3,pip3</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-13T15:02:33+08:00">
                2017-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/13/centos7-install-python3/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/13/centos7-install-python3/" class="cy_cmt_count" data-xid="2017/11/13/centos7-install-python3/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="centos7-安装-python3-pip3"><a href="#centos7-安装-python3-pip3" class="headerlink" title="centos7.* 安装 python3,pip3"></a>centos7.* 安装 python3,pip3</h1><h2 id="yum安装方式"><a href="#yum安装方式" class="headerlink" title="yum安装方式"></a>yum安装方式</h2><h3 id="添加epel源"><a href="#添加epel源" class="headerlink" title="添加epel源"></a>添加epel源</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install epel-release</div></pre></td></tr></table></figure>
<h3 id="安装Python3-4"><a href="#安装Python3-4" class="headerlink" title="安装Python3.4"></a>安装Python3.4</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python34</div></pre></td></tr></table></figure>
<h3 id="安装pip3"><a href="#安装pip3" class="headerlink" title="安装pip3"></a>安装pip3</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install python34-setuptools</div><div class="line">easy_install-3.4 pip</div></pre></td></tr></table></figure>
<blockquote>
<p>之后就可以使用<code>pip3</code>了</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip3</div></pre></td></tr></table></figure>
<h2 id="源代码编译安装此方法兼容保留Python2共存"><a href="#源代码编译安装此方法兼容保留Python2共存" class="headerlink" title="源代码编译安装此方法兼容保留Python2共存"></a>源代码编译安装此方法兼容保留<code>Python2</code>共存</h2><h3 id="安装依赖环境"><a href="#安装依赖环境" class="headerlink" title="安装依赖环境"></a>安装依赖环境</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</div></pre></td></tr></table></figure>
<h3 id="查看最新的Python版本"><a href="#查看最新的Python版本" class="headerlink" title="查看最新的Python版本"></a>查看最新的Python版本</h3><p>浏览器打开 <code>https://www.python.org/ftp/python/</code> 查看最新的<code>Python</code>版本，标记为<code>3.A.B</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget https://www.python.org/ftp/python/3.A.B/Python-3.A.B.tgz</div></pre></td></tr></table></figure>
<h3 id="创建Python3的目录"><a href="#创建Python3的目录" class="headerlink" title="创建Python3的目录"></a>创建<code>Python3</code>的目录</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkdir /usr/<span class="built_in">local</span>/python3</div></pre></td></tr></table></figure>
<h3 id="解压下载文件并切换目录"><a href="#解压下载文件并切换目录" class="headerlink" title="解压下载文件并切换目录"></a>解压下载文件并切换目录</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tar -zxvf Python-3.A.B.tgz</div><div class="line"></div><div class="line"><span class="built_in">cd</span> Python-3.A.B</div></pre></td></tr></table></figure>
<h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./configure --prefix=/usr/<span class="built_in">local</span>/python3</div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<h3 id="创建Python3的软链接"><a href="#创建Python3的软链接" class="headerlink" title="创建Python3的软链接"></a>创建<code>Python3</code>的软链接</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln -s /usr/<span class="built_in">local</span>/python3/bin/python3 /usr/bin/python3</div></pre></td></tr></table></figure>
<h3 id="创建Pip3的软链接"><a href="#创建Pip3的软链接" class="headerlink" title="创建Pip3的软链接"></a>创建<code>Pip3</code>的软链接</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln -s /usr/<span class="built_in">local</span>/python3/bin/pip3 /usr/bin/pip3</div></pre></td></tr></table></figure>
<h3 id="测试命令-python3-和-pip3"><a href="#测试命令-python3-和-pip3" class="headerlink" title="测试命令 python3 和 pip3"></a>测试命令 python3 和 pip3</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python3</div><div class="line">pip3</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/13/linux-bg-jobs-setsid-hup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/13/linux-bg-jobs-setsid-hup/" itemprop="url">让linux程序后台运行</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-13T12:14:58+08:00">
                2017-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/13/linux-bg-jobs-setsid-hup/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/13/linux-bg-jobs-setsid-hup/" class="cy_cmt_count" data-xid="2017/11/13/linux-bg-jobs-setsid-hup/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>我们计算的程序都是周期很长的，通常要几个小时甚至一个星期。我们用的环境是用putty远程连接到日本Linux服务器。所以使程序在后台跑有以下三个好处：</p>
</blockquote>
<p>1：我们这边是否关机不影响日本那边的程序运行。（不会像以前那样，我们这网络一断开，或一关机，程序就断掉或找不到数据，跑了几天的程序只能重头再来，很是烦恼）</p>
<p>2：不影响计算效率</p>
<p>2：让程序在后台跑后，不会占据终端，我们可以用终端做别的事情。</p>
<h1 id="amp"><a href="#amp" class="headerlink" title="&amp;"></a><code>&amp;</code></h1><blockquote>
<p>在您执行的程序后面加上 <code>&amp;</code>,可以把当前命令放到后台执行，但是退出终端的时候，当前程序会退出</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">watch  -n 10 sh  test.sh  &amp;  <span class="comment">#每10s在后台执行一次test.sh脚本</span></div></pre></td></tr></table></figure>
<h1 id="ctrl-z"><a href="#ctrl-z" class="headerlink" title="ctrl + z"></a><code>ctrl + z</code></h1><blockquote>
<p>可以将一个正在前台执行的命令放到后台，并且处于暂停状态。</p>
</blockquote>
<h1 id="jobs"><a href="#jobs" class="headerlink" title="jobs"></a><code>jobs</code></h1><p>查看当前有多少在后台运行的命令</p>
<p><code>jobs</code> -l选项可显示所有任务的<code>PID</code>，<code>jobs</code>的状态可以是<code>running</code>, <code>stopped</code>, <code>Terminated</code>。但是如果任务被终止了（<code>kill</code>），<code>shell`` 从当前的</code>shell`环境已知的列表中删除任务的进程标识。</p>
<h1 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a><code>nohup</code></h1><blockquote>
<p><code>nohup</code>最简单暴力,让程序使用在后台执行，就算关闭了当前的终端也执行（&amp;是做不到的）。该命令可以在你退出帐户/关闭终端之后继续运行相应的进程。关闭中断后，在另一个终端jobs已经无法看到后台跑得程序了，此时利用<code>ps</code>（进程查看命令）。</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ps -aux | grep <span class="string">"test.sh"</span>  <span class="comment">#a:显示所有程序 u:以用户为主的格式来显示 x:显示所有程序，不以终端机来区分</span></div></pre></td></tr></table></figure>
<h1 id="setsid"><a href="#setsid" class="headerlink" title="setsid"></a><code>setsid</code></h1><blockquote>
<p>nohup 通过忽略 HUP 信号来使我们的进程避免中途被中断，但如果我们换个角度思考，如果我们的进程不属于接受 HUP 信号的终端的子进程，那么自然也就不会受到 HUP 信号的影响了。setsid 就能帮助我们做到这一点</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setsid ping blog.yahui.wang</div><div class="line">ps -ef |grep blog.yahui.wang</div></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xxx    77335      1  0 13:13 ?        00:00:00 ping www.ibm.com</div><div class="line">xxx    77445  77359  0 13:14 pts/2    00:00:00 grep --color=auto www.ibm.com</div></pre></td></tr></table></figure>
<p>值得注意的是，它的父 ID（PPID）为1（即为 init 进程 ID），并不是当前终端的进程 ID。可以自己动手将此例与<code>nohup</code> 例中的父 ID 做比较。体会更多。</p>
<h1 id="disown"><a href="#disown" class="headerlink" title="disown"></a><code>disown</code></h1><blockquote>
<p>如果事先在命令前加上 <code>nohup</code> 或者 <code>setsid</code> 就可以避免 HUP 信号的影响。但是如果我们未加任何处理就已经提交了命令，该如何补救才能让它避免 HUP 信号的影响呢？这时想加 nohup 或者 setsid 已经为时已晚，只能通过作业调度和 disown 来解决这个问题了。</p>
</blockquote>
<p>在我们的日常工作中，我们可以用 CTRL-z 来将当前进程挂起到后台暂停运行，执行一些别的操作，然后再用 fg 来将挂起的进程重新放回前台（也可用 bg 来将挂起的进程放在后台）继续运行。这样我们就可以在一个终端内灵活切换运行多个任务，这一点在调试代码时尤为有用。因为将代码编辑器挂起到后台再重新放回时，光标定位仍然停留在上次挂起时的位置，避免了重新定位的麻烦。</p>
<p>1.用disown -h jobspec 来使某个作业忽略HUP信号。<br>2.用disown -ah 来使所有的作业都忽略HUP信号。<br>3.用disown -rh 来使正在运行的作业忽略HUP信号。</p>
<p>需要注意的是，当使用过 disown 之后，会将把目标作业从作业列表中移除，我们将不能再使用jobs来查看它，但是依然能够用ps -ef查找到它。</p>
<p>但是还有一个问题，这种方法的操作对象是作业，如果我们在运行命令时在结尾加了”&amp;”来使它成为一个作业并在后台运行，那么就万事大吉了，我们可以通过jobs命令来得到所有作业的列表。但是如果并没有把当前命令作为作业来运行，如何才能得到它的作业号呢？答案就是用 CTRL-z（按住Ctrl键的同时按住z键）了！</p>
<p>CTRL-z 的用途就是将当前进程挂起（Suspend），然后我们就可以用jobs命令来查询它的作业号，再用bg jobspec 来将它放入后台并继续运行。需要注意的是，如果挂起会影响当前进程的运行结果，请慎用此方法。</p>
<h1 id="screen"><a href="#screen" class="headerlink" title="screen"></a><code>screen</code></h1><blockquote>
<p>我们已经知道了如何让进程免受 HUP 信号的影响，但是如果有大量这种命令需要在稳定的后台里运行，如何避免对每条命令都做这样的操作呢？</p>
</blockquote>
<p>此时最方便的方法就是 screen 了。简单的说，screen 提供了 ANSI/VT100 的终端模拟器，使它能够在一个真实终端下运行多个全屏的伪终端。screen 的参数很多，具有很强大的功能，我们在此仅介绍其常用功能以及简要分析一下为什么使用 screen 能够避免 HUP 信号的影响。</p>
<p>使用 screen 很方便，有以下几个常用选项：</p>
<ul>
<li>用screen -dmS session name 来建立一个处于断开模式下的会话（并指定其会话名）。</li>
<li>用screen -list 来列出所有会话。</li>
<li>用screen -r session name 来重新连接指定会话。</li>
<li>用快捷键CTRL-a d 来暂时断开当前会话。</li>
</ul>
<p>参考：<br>   <a href="https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/" target="_blank" rel="external">Linux 技巧：让进程在后台可靠运行的几种方法</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/13/centos-7-install-htop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/13/centos-7-install-htop/" itemprop="url">如何在CentOS 7上安装htop</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-13T12:05:21+08:00">
                2017-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/13/centos-7-install-htop/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/13/centos-7-install-htop/" class="cy_cmt_count" data-xid="2017/11/13/centos-7-install-htop/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>htop是一个Linux进程监视工具，它是top命令的替代工具，它是Linux和Unix操作系统中的标准和默认进程监视工具。但是CentOS 7上的htop更易于用户使用，并且与Linux的top命令相比，输出更容易阅读。<br>在本教程中，我们将学习如何使用yum install命令和epel存储库在CentOS 7上安装htop。<br>在CentOS 7上安装htop我们想添加CentOS epel版本库，因为htop软件包没有默认的CentOS yum版本库。</p>
</blockquote>
<h1 id="安装Epel版本"><a href="#安装Epel版本" class="headerlink" title="安装Epel版本"></a>安装Epel版本</h1><p>首先，启用CentOS 7上的epel版本。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum -y install epel-release</div></pre></td></tr></table></figure>
<h1 id="用Yum命令安装htop"><a href="#用Yum命令安装htop" class="headerlink" title="用Yum命令安装htop"></a>用Yum命令安装htop</h1><p>现在我们可以使用yum install命令安装CentOS htop。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum -y install htop</div></pre></td></tr></table></figure>
<p>现在开始htop程序，打开Linux终端并键入htop</p>
<p>您可以看到htop过程监控工具的输出更具可读性，易于理解。</p>
<h1 id="总结：htop-CentOS-7"><a href="#总结：htop-CentOS-7" class="headerlink" title="总结：htop CentOS 7"></a>总结：htop CentOS 7</h1><p>在本教程中，我们使用epel存储库在Linux CentOS 7上安装了htop。</p>
<p>首先，我们启用epel-release，然后使用yum命令安装htop（没有epel-release，您将收到以下错误“No package htop available”）。</p>
<p>我们也可以用同样的方法在CentOS 6.5及以前的版本上安装htop。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/09/free-ssl-qiniu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/09/free-ssl-qiniu/" itemprop="url">在七牛云里绑定的自定义域名使用Let’s Encrypt免费证书</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-09T18:43:32+08:00">
                2017-11-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/09/free-ssl-qiniu/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/09/free-ssl-qiniu/" class="cy_cmt_count" data-xid="2017/11/09/free-ssl-qiniu/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>这里我们要介绍下 <a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="external">acme.sh</a> ,它实现了 acme 协议支持的所有验证协议. 一般有两种方式验证: http 和 dns 验证.”，今天我们就要用到acme.sh的这个DNS验证来获得Let’s Encrypt免费证书以便在七牛云里使用。</p>
</blockquote>
<h1 id="获取Let’s-Encrypt免费证书"><a href="#获取Let’s-Encrypt免费证书" class="headerlink" title="获取Let’s Encrypt免费证书"></a>获取Let’s Encrypt免费证书</h1><p>首先你需要一个VPS来运行acme.sh这个脚本，然后照着【使用acme.sh快速部署生成Let’s Encrypt免费证书】一文里的相关教程用DNS验证方法来申请Let’s Encrypt免费证书，对国内的DnsPod和CloudXNS支持是最好的，明月正好用的是<code>DnsPod</code>,于是获得马上登陆CloudXNS获得API KEY和SECRET KEY，键入下面的命令：</p>
<pre><code>export DP_Id=&quot;40279&quot;
export DP_Key=&quot;f2ad63666b3ec9da28fe6f6274ae72b8&quot;
</code></pre><p>这样就可以让acme.sh脚本使用域名解析服务商的API来做DNS验证域名所有权了。（吐槽一下：原来域名解析服务商的API还有这个好处呀，汗！）<br>然后继续键入如下命令：</p>
<pre><code>acme.sh --issue --dns dns_dp -d yahui.wang -d blog.yahui.wang
</code></pre><p>因为明月用的是二级域名，所以就不用指定主域名了，我用的是如下的命令：</p>
<pre><code>acme.sh --issue --dns dns_dp -d blog.yahui.wang
</code></pre><p>其中的pic.example.com就是你要申请证书的二级域名，这里也可以理解为是需要绑定到七牛云空间的域名。<br>因为需要验证TXT记录啥的，所以键入上述命令后会提示需要120秒等待时间，时间完成后就获得了这个域名的SSL证书了，为了保险期间明月强烈建议将这个域名证书文件copy到一个比较安全和自由的目录里，acme.sh默认保存的不容易获取。<br>可以使用如下命令来copy证书文件到指定目录：</p>
<pre><code>acme.sh --installcert -d mydomain.com \
--key-file /etc/nginx/ssl/mydomain.key \
--fullchain-file /etc/nginx/ssl/mydonain.cer \
</code></pre><p>上述里面的mydomai.com和domain修改为申请的域名，文件路径根据自己的情况指定即可。</p>
<p>至此，Let’s Encrypt免费证书申请获取完成了。记得下载SSL证书文档到本地以便在七牛里导入这个证书，证书文档分别是.key和.cer文件。</p>
<h1 id="七牛云里使用Let’s-Encrypt免费证书"><a href="#七牛云里使用Let’s-Encrypt免费证书" class="headerlink" title="七牛云里使用Let’s Encrypt免费证书"></a>七牛云里使用Let’s Encrypt免费证书</h1><p>登陆七牛云控制面板后，在“SSL证书管理”里点击“上传自由证书”。</p>
<p>输入“证书备注名”<br>“证书内容”即为.cer文件的内容，使用类似EditPlus即可打开，只需要复制后粘贴到“证书内容”即可。<br>“证书私钥”即为.key文件的内容，使用类似EditPlus即可打开，只需要复制后粘贴到“证书私钥”即可。</p>
<p>然后，点击“确定上传”即完成了七牛云导入Let’s Encrypt免费证书。</p>
<p>在七牛云的绑定域名管理里选择要使用https的域名，点击“升级到HTTPS”，</p>
<p>如果域名和上传的证书匹配，在那么就可以在下拉框里选择证书后提交即可</p>
<blockquote>
<p>总结</p>
<blockquote>
<p>今天明月也是收获不少再次叹服一下acme.sh的强大和Let’s Encrypt的免费，因为有了他们我们草根博客站长们也可以使用看着很“高大上”的https了，并且还是“免费”的，这个很重要。看来全民HTTPS时代真的是来临了！</p>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/11/08/Senparc-Weixin-MP-Component/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/08/Senparc-Weixin-MP-Component/" itemprop="url">Senparc.Weixin.MP微信开发平台对接 [1]</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-08T18:50:24+08:00">
                2017-11-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/08/Senparc-Weixin-MP-Component/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/11/08/Senparc-Weixin-MP-Component/" class="cy_cmt_count" data-xid="2017/11/08/Senparc-Weixin-MP-Component/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><code>Senparc.Weixin.MP</code>高度集成了对接微信相关API的调用逻辑，并且官方有较为完整的示例代码，所以我们第一步接入站点，几乎是傻瓜式的。</p>
</blockquote>
<h1 id="注册开放平台账号并且开通第三方服务功能"><a href="#注册开放平台账号并且开通第三方服务功能" class="headerlink" title="注册开放平台账号并且开通第三方服务功能"></a>注册开放平台账号并且开通第三方服务功能</h1><h2 id="点击创建第三方平台"><a href="#点击创建第三方平台" class="headerlink" title="点击创建第三方平台"></a>点击创建第三方平台</h2><p><img src="https://static.yahui.wang/blog/QQ截图20171108185333.png" alt="如图所示"></p>
<h2 id="填写资料"><a href="#填写资料" class="headerlink" title="填写资料"></a>填写资料</h2><p><img src="https://static.yahui.wang/blog/QQ截图20171108185339.png" alt="如同所示"></p>
<h1 id="Clone代码"><a href="#Clone代码" class="headerlink" title="Clone代码"></a>Clone代码</h1><p><a href="https://github.com/JeffreySu/WeiXinMPSDK" target="_blank" rel="external">github</a></p>
<h1 id="配置站点"><a href="#配置站点" class="headerlink" title="配置站点"></a>配置站点</h1><blockquote>
<p><code>Senparc.Weixin.MP</code>提供了<code>NetCore 2.0</code>等版本的项目例子，这里我们以 <code>src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample</code>里的代码为例。</p>
</blockquote>
<h2 id="Web-config"><a href="#Web-config" class="headerlink" title="Web.config"></a>Web.config</h2><p>修改web.config里的代码，如果所示</p>
<p><img src="https://static.yahui.wang/blog/QQ截图20171108192402.png" alt="修改web.config里的代码，如果所示"></p>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>把 <code>OpenController</code>里的用于示例的域名<code>http://sdk.weixin.senparc.com</code>改为自己的域名</p>
<h1 id="运行调试项目"><a href="#运行调试项目" class="headerlink" title="运行调试项目"></a>运行调试项目</h1><blockquote>
<p>需要注意的是 微信每10分钟 发送一次Notice到你的站点上，你的站点需要有通知到之后才可以做发起授权的操作。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/08/26/react-native-typescript-init-debug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/26/react-native-typescript-init-debug/" itemprop="url">使用Visual Studio Code和typescript 开发调试React Native项目</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-26T14:52:54+08:00">
                2017-08-26
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/08/26/react-native-typescript-init-debug/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/08/26/react-native-typescript-init-debug/" class="cy_cmt_count" data-xid="2017/08/26/react-native-typescript-init-debug/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>关于<code>React Native</code>的详细介绍我就不叙述了，他是使用js构建原生app的开发框架。一次编码多平台运行，非常强大。但是个人不喜欢js的过于<code>灵活（弱类型）</code>的语法。强大的强类型语言<code>Typescript(简称TS)</code>是我的首选，他可以编译成<code>JavaScript</code>，编译成的JavaScript代码可读性很好，但是这不是关键，关键是<code>TS</code>开发和调试效率极高。<br>但是<code>React Native</code>官方是使用<code>js</code>的开发的,如果如果使用TS开发React Native的关键是<code>transformer</code>。<br>eact-native结合的关键是使用转换器</p>
</blockquote>
<h1 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">react-native init YahuiApp</div><div class="line"><span class="built_in">cd</span> YahuiApp</div><div class="line">yarn add --dev react-native-typescript-transformer typescript @types/react @types/react-native</div></pre></td></tr></table></figure>
<h1 id="用vscode打开-添加配置文件"><a href="#用vscode打开-添加配置文件" class="headerlink" title="用vscode打开 添加配置文件"></a>用vscode打开 添加配置文件</h1><h2 id="配置Typescript"><a href="#配置Typescript" class="headerlink" title="配置Typescript"></a>配置Typescript</h2><p>新建文件 <code>tsconfig.json</code>内容为</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"compilerOptions"</span>: &#123;</div><div class="line">        <span class="attr">"module"</span>: <span class="string">"es2015"</span>,</div><div class="line">        <span class="attr">"target"</span>: <span class="string">"es2015"</span>,</div><div class="line">        <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</div><div class="line">        <span class="attr">"jsx"</span>: <span class="string">"react-native"</span>,</div><div class="line">        <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"preserveConstEnums"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"watch"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"filesGlob"</span>: [</div><div class="line">        <span class="string">"src/**/*.ts"</span>,</div><div class="line">        <span class="string">"src/**/*.tsx"</span></div><div class="line">    ],</div><div class="line">    <span class="attr">"exclude"</span>: [</div><div class="line">        <span class="string">"index.android.js"</span>,</div><div class="line">        <span class="string">"index.ios.js"</span>,</div><div class="line">        <span class="string">"build"</span>,</div><div class="line">        <span class="string">"node_modules"</span></div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>新建文件 <code>tslint.json</code> 内容为</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"rules"</span>: &#123;</div><div class="line">        <span class="attr">"class-name"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"comment-format"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"check-space"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"indent"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"spaces"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"no-duplicate-variable"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"no-eval"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"no-internal-module"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"no-trailing-whitespace"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"no-unsafe-finally"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"no-var-keyword"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"one-line"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"check-open-brace"</span>,</div><div class="line">            <span class="string">"check-whitespace"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"quotemark"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"double"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"semicolon"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"always"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"triple-equals"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"allow-null-check"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"typedef-whitespace"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"call-signature"</span>: <span class="string">"nospace"</span>,</div><div class="line">                <span class="attr">"index-signature"</span>: <span class="string">"nospace"</span>,</div><div class="line">                <span class="attr">"parameter"</span>: <span class="string">"nospace"</span>,</div><div class="line">                <span class="attr">"property-declaration"</span>: <span class="string">"nospace"</span>,</div><div class="line">                <span class="attr">"variable-declaration"</span>: <span class="string">"nospace"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"variable-name"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"ban-keywords"</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"whitespace"</span>: [</div><div class="line">            <span class="literal">true</span>,</div><div class="line">            <span class="string">"check-branch"</span>,</div><div class="line">            <span class="string">"check-decl"</span>,</div><div class="line">            <span class="string">"check-operator"</span>,</div><div class="line">            <span class="string">"check-separator"</span>,</div><div class="line">            <span class="string">"check-type"</span></div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="配置React-Native-Packager"><a href="#配置React-Native-Packager" class="headerlink" title="配置React Native Packager"></a>配置React Native Packager</h2><p>根目录新建rn-cli.config.js文件 内容为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    <span class="built_in">module</span>.exports = &#123;</div><div class="line">        getTransformModulePath() &#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">require</span>.resolve(<span class="string">'react-native-typescript-transformer'</span>);</div><div class="line">        &#125;,</div><div class="line">        getSourceExts() &#123;</div><div class="line">            <span class="keyword">return</span> [ <span class="string">'ts'</span>, <span class="string">'tsx'</span> ]</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&lt;!-- 修改package.json 文件 的scripts start</div><div class="line"><span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"start"</span>: <span class="string">"react-native start --transformer node_modules/react-native-typescript-transformer/index.js --sourceExts ts,tsx"</span>,</div><div class="line">    <span class="string">"test"</span>: <span class="string">"jest"</span></div><div class="line">&#125;, --&gt;</div></pre></td></tr></table></figure>
<h1 id="编写代码"><a href="#编写代码" class="headerlink" title="编写代码"></a>编写代码</h1><p>在 src文件夹里新建<code>main.tsc</code>文件<br>代码为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line">    <span class="keyword">import</span> &#123;</div><div class="line">        StyleSheet,</div><div class="line">        Text,</div><div class="line">        View</div><div class="line">    &#125; <span class="keyword">from</span> <span class="string">"react-native"</span>;</div><div class="line"></div><div class="line">    interface Props &#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    interface State &#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span>&lt;<span class="title">Props</span>, <span class="title">State</span>&gt; </span>&#123;</div><div class="line">        render() &#123;</div><div class="line">            <span class="keyword">return</span> (</div><div class="line">                &lt;View style=&#123;styles.container&#125;&gt;</div><div class="line">                    &lt;Text style=&#123;styles.text&#125;&gt;</div><div class="line">                        Welcome to React Native!</div><div class="line">                    &lt;<span class="regexp">/Text&gt;</span></div><div class="line"><span class="regexp">                &lt;/</span>View&gt;</div><div class="line">            );</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">        container: &#123;</div><div class="line">            flex: <span class="number">1</span>,</div><div class="line">            justifyContent: <span class="string">"center"</span>,</div><div class="line">            alignItems: <span class="string">"center"</span>,</div><div class="line">            backgroundColor: <span class="string">"#F5FCFF"</span>,</div><div class="line">        &#125; <span class="keyword">as</span> React.ViewStyle,</div><div class="line"></div><div class="line">        text: &#123;</div><div class="line">            fontSize: <span class="number">20</span>,</div><div class="line">            textAlign: <span class="string">"center"</span>,</div><div class="line">            margin: <span class="number">10</span>,</div><div class="line">        &#125; <span class="keyword">as</span> React.TextStyle,</div><div class="line">    &#125;);</div><div class="line">AppRegistry</div><div class="line">    <span class="keyword">import</span> &#123;</div><div class="line">        AppRegistry,</div><div class="line">    &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line">    <span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">"./src/main"</span>;</div><div class="line"></div><div class="line">    AppRegistry.registerComponent(<span class="string">'YahuiApp'</span>, () =&gt; App);</div></pre></td></tr></table></figure>
<blockquote>
<p>至此 您的使用TS开发React Native的项目环境搭建好了<br><!-- yarn add lodash react-native-navigation react-redux redux redux-actions redux-immutable redux-logger redux-persist redux-thunk seamless-immutable whatwg-fetch
yarn add  react-native-typescript-transformer @types/immutable @types/react @types/react-native @types/react-redux @types/redux @types/redux-immutable @types/redux-logger @types/redux-thunk @types/seamless-immutable react-native-debugger-open react-test-renderer redux-thunk redux-devtools-extension tslint typescript  --dev --></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yahui.wang/2017/07/03/netsh-interface-portproxy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arthur.Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="亚辉的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/03/netsh-interface-portproxy/" itemprop="url">windows实现端口映射</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-03T20:13:07+08:00">
                2017-07-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/windows/" itemprop="url" rel="index">
                    <span itemprop="name">windows</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/07/03/netsh-interface-portproxy/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://blog.yahui.wang/2017/07/03/netsh-interface-portproxy/" class="cy_cmt_count" data-xid="2017/07/03/netsh-interface-portproxy/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="查询端口映射情况"><a href="#查询端口映射情况" class="headerlink" title="查询端口映射情况"></a>查询端口映射情况</h1><p>netsh interface portproxy show v4tov4<br>查询这个IP所有的端口映射。<br>netsh interface portproxy show v4tov4|find “192.168.1.1” </p>
<h1 id="增加一个端口映射"><a href="#增加一个端口映射" class="headerlink" title="增加一个端口映射"></a>增加一个端口映射</h1><p>netsh interface portproxy add v4tov4 listenport=外网端口 listenaddress=主IP connectaddress=私网IP connectport=私网IP端口<br>例如：<br>netsh interface portproxy add v4tov4 listenport=8888 listenaddress=118.123.13.180 connectaddress=192.168.1.10 connectport=2222 </p>
<h1 id="删除一个端口映射"><a href="#删除一个端口映射" class="headerlink" title="删除一个端口映射"></a>删除一个端口映射</h1><p>netsh interface portproxy delete v4tov4 listenaddress=主IP listenport=外网端口<br>例如：<br>netsh interface portproxy delete v4tov4 listenaddress=118.123.13.180 listenport=8888</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Arthur.Wang" />
          <p class="site-author-name" itemprop="name">Arthur.Wang</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/rss2.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Arthur.Wang</span>
</div>
  <div style="display:none">
    <a href="http://www.miitbeian.gov.cn/">浙ICP备15006266号-1</a> 
  </div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  




  
    <script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cytcPprWi"></script>
  



  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

</body>
</html>
